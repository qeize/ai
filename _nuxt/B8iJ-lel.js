import{f as e,o as t,b as a,F as l,E as r,d as o,S as s,t as n,z as i,Y as u,Z as c,n as p,K as d,a as v,q as m,u as g,N as y,r as h,Q as _,s as f,$ as b,h as k,c as $,D as w,p as x,V as F,J as P}from"./DGIvrB3b.js";import{_ as B,a as S}from"./CfUKz5g-.js";import{_ as C}from"./t2T22otC.js";import T from"./CvW_hQvu.js";import{c as D}from"./B2Jml5v-.js";import{S as I,L,T as M}from"./CMWhIOe7.js";import{D as N}from"./DcKHAN7-.js";import{a as W,b as A,m as H,p as j}from"./Ch1Pc0BU.js";import{u as O}from"./DgkqCWzT.js";const J={class:"advantages-container"},R={class:"flex al-cnt"},q=["src","alt"],K={class:"flex dir-col al-fls"},U={class:"pt-18 semi-bold"},Y={class:"pt-16 regular mt-4 fainted"},z=e({__name:"MobilePaywallAdvantagesTable",props:["advantages","theme"],setup:e=>(i,u)=>(t(),a("div",{class:s([{light:e.theme},"table"])},[(t(!0),a(l,null,r(e.advantages,(e=>(t(),a("div",J,[o("div",R,[o("img",{src:e.icon,class:s([{whatsapp:e.icon.includes("whatsapp")},"text-icon mr-12"]),height:"55",alt:e.text},null,10,q),o("span",K,[o("p",U,n(i.$t(e.text)),1),o("p",Y,n(i.$t(e.subtext)),1)])])])))),256))],2))},[["__scopeId","data-v-990e8fcc"]]),V={key:0,class:"faint title"},X={style:{display:"flex"}},E={key:0,class:"price prev-price"},G={key:1,class:"badge"},Q={key:0,class:"discount-tag"},Z={key:1,class:"badge-container"},ee={class:"badge-tag"},te=e({__name:"SelectableProductBox",props:["product","discountText","isSelected","clickHandler","lifetimeLimit","discount","theme"],setup(e){const l=e,r=i((()=>u(l.product.currency))),m=i((()=>"JPY"===l.product.currency||"KRW"===l.product.currency)),g=i((()=>{if(l.product)return"recurring"!==l.product.type?D(`${l.product.nickname}`):D(`${l.product.recurring.interval}ly`)})),y=i((()=>{if(l.product)return l.lifetimeLimit?`${r.value}${(l.product.unit_amount/100).toFixed(m.value?0:2)}`:"recurring"!==l.product.type?`${r.value}${(l.product.unit_amount/100).toFixed(m.value?0:2)}, ${c(l.product.nickname)}`:`${r.value}${(l.product.unit_amount/100).toFixed(m.value?0:2)}/${c(l.product.recurring.interval)}`})),h=i((()=>{if(l.product)return l.lifetimeLimit?"":`${r.value}${(l.product.unit_amount/(1-l.discount)/100).toFixed(m.value?0:2)}`})),_=i((()=>{if(l.product)return"recurring"===l.product.type?l.product.offersFreeTrial?"productBoxAutoRenewFreeTrial":"productBoxAutoRenewCancelAny":"productBoxBilledOnce"})),f=i((()=>{if(l.product)return!("recurring"!==l.product.type||!l.product.offersFreeTrial)}));return(l,r)=>(t(),a("div",{onClick:r[0]||(r[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),class:s(`${e.lifetimeLimit?"llp-selectable-container":"selectable-container"} ${e.isSelected?"selected":""} ${e.theme?"light":""}`)},[o("div",{class:s(""+(e.lifetimeLimit?"llp-texts":"texts"))},[e.lifetimeLimit?(t(),a("p",V,n(p(g)),1)):d("",!0),o("div",X,[e.discount?(t(),a("p",E,n(p(h)),1)):d("",!0),o("p",{class:s(""+(e.lifetimeLimit?"llp-price":"price"))},n(p(y)),3)]),o("p",{class:s("faint "+(e.lifetimeLimit?"llp-subtitle":"subtitle"))},n(l.$t(p(_))),3),e.lifetimeLimit&&p(f)?(t(),a("div",G,n(l.$t("productBoxFreeTrial")),1)):d("",!0)],2),e.discountText?(t(),a("div",Q,n(e.discountText),1)):d("",!0),!e.lifetimeLimit&&p(f)?(t(),a("div",Z,[v(p(I),{class:"icon"}),o("p",ee,n(l.$t("productBoxNoPaymentNow")),1)])):d("",!0)],2))}},[["__scopeId","data-v-5709c424"]]),ae={key:0,class:"popular-badge-container"},le={class:"semi-bold pt-12"},re={key:1,class:"save-money-badge"},oe={class:"semi-bold pt-12"},se={class:"flex dir-col al-cnt"},ne={class:"semi-bold pt-20 mt-20"},ie={class:"semi-bold pt-14 lh-20 ws-nowrap mt-3"},ue={class:"medium pt-11 lh-12 fainted mt-8"},ce={class:"medium pt-12 mt-10 fainted price"},pe=e({__name:"MobileSelectableProductBox",props:["product","isSelected","clickHandler","discount","mostPopular","saveMoney","saveMoneyPercantage","saveBadge","perBadge","theme","durationFormat"],setup(e){const l=e,r=i((()=>u(l.product.currency))),c=i((()=>"JPY"===l.product.currency||"KRW"===l.product.currency)),v=i((()=>{if(l.product){if("recurring"!==l.product.type)return"productBoxLifetime";{const e=l.product.recurring.interval,t=l.product.recurring.interval_count;if("day"===l.durationFormat){if("week"===e)return"product7Day";if("month"===e)return`product${30*t}Day`;if("year"===e)return"product365Day"}else if("week"===l.durationFormat){if("week"===e)return"product1Week";if("month"===e)return`product${4*t}Week`;if("year"===e)return"product52Week"}else{if("week"===e)return"product1Week";if("month"===e)return`product${t}Month`;if("year"===e)return"product12Month"}return""}}})),m=i((()=>{if(l.product)return`${r.value}${(l.product.unit_amount/100).toFixed(c.value?0:2)}`})),g=i((()=>{if(l.product){if("recurring"!==l.product.type)return"";{const e=l.product.recurring.interval,t=l.product.recurring.interval_count;return"week"===e?`${((l.product.unit_amount/100).toFixed(2)/7).toFixed(c.value?0:2)}`:"month"===e?`${((l.product.unit_amount/100).toFixed(2)/(30*t)).toFixed(c.value?0:2)}`:"year"===e?`${((l.product.unit_amount/100).toFixed(2)/365).toFixed(c.value?0:2)}`:""}}})),y=i((()=>{if(l.product){if("recurring"!==l.product.type)return"";{const e=l.product.recurring.interval,t=l.product.recurring.interval_count;return"week"===e?`${(l.product.unit_amount/100).toFixed(c.value?0:2)}`:"month"===e?`${((l.product.unit_amount/100).toFixed(2)/(4*t)-.01).toFixed(c.value?0:2)}`:"year"===e?`${((l.product.unit_amount/100).toFixed(2)/52-.01).toFixed(c.value?0:2)}`:""}}}));return(l,i)=>(t(),a("div",{onClick:i[0]||(i[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),class:s([{selected:e.isSelected},{light:e.theme},"mobile-selectable-container"])},[e.mostPopular?(t(),a("div",ae,[o("p",le,n(l.$t("productBoxPopular")),1)])):d("",!0),e.saveBadge&&!e.mostPopular?(t(),a("div",re,[o("p",oe," -"+n(e.saveBadge),1)])):d("",!0),o("div",se,[o("p",ne,n(p(r))+n("week"===e.perBadge?p(y):p(g)),1),o("p",ie,n("week"===e.perBadge?l.$t("productBoxPerWeek").toUpperCase():l.$t("productBoxPerDay").toUpperCase()),1),o("p",ue,n(l.$t(p(v)).toUpperCase()),1),o("p",ce,n(p(m)),1)])],2))}},[["__scopeId","data-v-12705a1c"]]),de={key:0},ve={class:"mr-4"},me={key:1,class:"discount-section"},ge={class:"pt-18 regular"},ye={class:"advantages-section"},he={class:"semi-bold pt-24 main-title-30 center"},_e={class:"advantages-table-container"},fe={class:"products-container"},be={class:"pay-secure-text"},ke={class:"pt-14 regular"},$e={class:"legal-links",href:"/policies/terms-conditions-en.html",target:"_blank"},we={class:"legal-links",href:"/policies/privacy-en.html",target:"_blank"},xe={class:"legal-links",href:"/policies/refund-en.html",target:"_blank"},Fe={class:"providers"},Pe=["src"],Be={key:0,class:"popup-paywall"},Se={class:s(["container left"])},Ce={class:"inner-container"},Te={key:0},De={class:"pay-secure-text mt-10"},Ie={class:"pt-14 semi-bold"},Le={class:"providers"},Me=["src"],Ne={class:"legal-links",href:"/policies/terms-conditions-en.html",target:"_blank"},We={class:"legal-links",href:"/policies/privacy-en.html",target:"_blank"},Ae={class:"legal-links",href:"/policies/refund-en.html",target:"_blank"},He={key:1,class:"spinner-container"},je={key:1,class:"spinner-container"},Oe=e({__name:"Paywall",setup(e){const u=m(),{isDesktop:c}=O(),D=g(),J=y(),R=h("idle"),q=i((()=>J.options.history.state.source||"default")),K=i((()=>q.value.endsWith("2")?q.value.substring(0,q.value.length-1):q.value)),U=J.options.history.state.type,Y="whatsapp"===J.options.history.state.source,V=i((()=>JSON.parse(D.getParameter("multi_language_model_config")||"{}"))),X=i((()=>"light")),E=i((()=>V.value.is_active?W:A)),G=i((()=>JSON.parse(D.getParameter("skip_button")||"{}"))),Q=i((()=>JSON.parse(D.getParameter("paywall_structure")||"{}"))),Z=i((()=>D.getParameter("pricing_tier"))),ee=i((()=>{var e;return parseInt(null==(e=Q.value[q.value])?void 0:e.discount)/100||.33})),ae=i((()=>{var e;return parseInt(null==(e=Q.value[q.value])?void 0:e.most_popular)})),le=i((()=>{var e,t,a;return[null==(e=Q.value[q.value])?void 0:e.save_badge_1,null==(t=Q.value[q.value])?void 0:t.save_badge_2,null==(a=Q.value[q.value])?void 0:a.save_badge_3]})),re=h(0),oe=h([]),se=i((()=>D.productsObj??JSON.parse(localStorage.getItem("dpp"))??{})),ne=i((()=>{var e;return null==(e=Q.value[q.value])?void 0:e.free_product_text})),ie=i((()=>{var e;return parseInt(null==(e=Q.value[q.value])?void 0:e.save_money)})),ue=i((()=>{var e;return null==(e=Q.value[q.value])?void 0:e.save_money_percantage})),ce=i((()=>{var e;return null==(e=Q.value[q.value])?void 0:e.per_badge})),Oe=i((()=>{var e;return null==(e=Q.value[q.value])?void 0:e.per_day_layout})),Je=i((()=>{var e;return null==(e=Q.value[q.value])?void 0:e.duration_format}));let Re;const qe=_(Q,(async()=>{var e;(null==(e=Q.value[K.value])?void 0:e.products)&&(f({eventName:"paywall_structure_loaded",properties:{duration:Date.now()-Re}}),Ke())})),Ke=async()=>{re.value=parseInt(Q.value[K.value].selected_index),Q.value[K.value].products.every((e=>`${e}_${Z.value}`in se.value))?oe.value=Q.value[K.value].products.map((e=>se.value[`${e}_${Z.value}`])):oe.value=await b(!1,Q.value[K.value].products,Z.value),oe.value&&f({eventName:"paywall_products_loaded",properties:{duration:Date.now()-Re}})};k((async()=>{var e;Re=Date.now(),window.scrollTo(0,0),q.value.includes("WebToApp")||!c?(qe(),re.value=2,Q.value[q.value]={most_popular:1,save_badge_2:"33%",save_badge_3:"75%"},["1month","3month","1year"].every((e=>`${e}_t8`in se.value))?oe.value=["1month","3month","1year"].map((e=>se.value[`${e}_t8`])):oe.value=await b(!1,["1month","3month","1year"],"t8")):(null==(e=Q.value[K.value])?void 0:e.products)&&(f({eventName:"paywall_structure_loaded",properties:{duration:Date.now()-Re}}),Ke()),setTimeout((async()=>{oe.value&&0!==oe.value.length||(qe(),re.value=2,Q.value[q.value]={most_popular:1,save_badge_2:"33%",save_badge_3:"75%"},["1month","3month","1year"].every((e=>`${e}_t8`in se.value))?oe.value=["1month","3month","1year"].map((e=>se.value[`${e}_t8`])):oe.value=await b(!1,["1month","3month","1year"],"t8"),f({eventName:"paywall_products_failed_to_load",properties:{source:q.value}}))}),1e4),f({eventName:"paywall",properties:{source:q.value,...U&&{type:U}}})}));const Ue=async e=>{var t;"idle"===R.value&&(R.value="initiating",f({eventName:"purchase_clicked",properties:{productId:e.id,source:q.value,paddleCustomerId:null==(t=D.userData)?void 0:t.paddleCustomerId}}),P({path:u("/checkout/paddle"),state:{price:e.unit_amount,interval:e.recurring&&e.recurring.interval,intervalCount:e.recurring&&e.recurring.interval_count,offersFreeTrial:e.offersFreeTrial,directTo:Y,productId:e.id,currency:e.currency,source:q.value,freeTrialDayCount:e.recurring.trial_period_days}}),R.value="idle")},Ye=()=>{f({eventName:"paywall_skip",properties:{source:q.value}}),"VisualChatOnboarding"===q.value?P({path:u("/tool"),query:{type:"visual_chat"}}):P({path:u("/chat")})},ze=()=>{let e=document.querySelector("#products-area");window.innerWidth>1280&&(e=document.querySelector("#products-page")),e.scrollIntoView({behavior:"smooth"})};return(e,i)=>{const u=z,c=S,m=C,g=T;return p(oe).length>0?(t(),a("div",de,[o("div",{class:s(["paywall-mobile hidden-md-up",{light:"light"===p(X)}])},[p(q).startsWith("WebToApp")?d("",!0):(t(),a("button",{key:0,class:"btn-skp",onClick:Ye},[o("span",ve,n(e.$t("buttonSkip")),1)])),p(ee)?(t(),a("div",me,[o("div",null,[o("span",ge,n(p(ee))+"% "+n(e.$t("paywallDiscountText")),1)]),o("button",{class:"btn-continue",onClick:ze},n(e.$t("buttonContinue")),1)])):d("",!0),o("div",ye,[o("h2",he,[o("span",null,n(e.$t("paywallUnlockAccess")),1)]),o("div",_e,[v(u,{advantages:p(H),theme:"light"===p(X),class:"advantages-table"},null,8,["advantages","theme"])])]),o("div",fe,[p(oe)&&p(oe).length>0?(t(),a("div",{key:0,class:s(["products",""+(3===p(oe).length?"row":"column")])},[(t(!0),a(l,null,r(p(oe),((e,a)=>(t(),$(w(3===p(oe).length?pe:"light"===p(X)?L:te),{product:e,isSelected:p(re)===a,durationFormat:p(Je),discount:p(ee),mostPopular:a===p(ae),saveMoney:a===p(ie),saveBadge:p(le)[a],saveMoneyPercantage:p(ue),perBadge:p(ce),perDayLayout:p(Oe),theme:"light"===p(X),clickHandler:()=>{re.value=a}},null,8,["product","isSelected","durationFormat","discount","mostPopular","saveMoney","saveBadge","saveMoneyPercantage","perBadge","perDayLayout","theme","clickHandler"])))),256))],2)):d("",!0),o("div",be,[v(p(N),{class:"shield-icon"}),o("span",ke,n(e.$t("paywallPaySafeSecure")),1)]),o("p",{class:s(["policies pt-12 regular mt-4",{dark:"light"===p(X)}])},[x(n(e.$t("paywallAgreeByContinue"))+" ",1),o("a",$e,n(e.$t("paywallTermsOfService")),1),i[2]||(i[2]=x(", ")),i[3]||(i[3]=o("br",null,null,-1)),o("a",we,n(e.$t("paywallPrivacyCookie")),1),x(" "+n(e.$t("and"))+" ",1),o("a",xe,n(e.$t("paywallRefundCancellation")),1)],2),o("div",Fe,[(t(!0),a(l,null,r(p(j),((e,l)=>(t(),a("img",{src:e,class:"provider-svg",alt:"payment provider"},null,8,Pe)))),256))])]),o("div",{class:"payment-button-container",style:F(""+(3===p(oe).length?"padding-bottom: 16px":"padding-bottom: 27px"))},[o("button",{class:"btn semi-bold checkout-btn",style:{height:"60px"},onClick:i[0]||(i[0]=()=>{Ue(p(oe)[p(re)])})},n(p(oe)[p(re)]&&p(oe)[p(re)].offersFreeTrial?p(ne)??e.$t("paywallTryFree"):e.$t("paywallCheckOut")),1)],4)],2),o("div",{class:s(["paywall-desktop hidden-sm-down",{light:"light"===p(X)}])},[p(oe).length?(t(),a("div",Be,[o("button",{class:s(["btn-skp",{dark:"light"===p(X)},{underline:p(G).underline}]),style:F(`opacity: ${p(G).opacity||1}; font-weight: ${p(G).fontWeight||700}`),onClick:Ye},[o("span",null,n(e.$t("buttonSkip")),1)],6),o("div",Se,[i[4]||(i[4]=o("img",{src:B,alt:"bullet points",style:{height:"43vw"}},null,-1)),v(c,{advantages:p(E),payment:!0,class:"advantages-table",style:{width:"fit-content","margin-bottom":"40px"}},null,8,["advantages"]),v(m,{theme:"dark",class:"narrow-visible",style:{position:"absolute",left:"50%",bottom:"50px",transform:"translateX(-50%)"}})]),o("div",{class:s(["container right",{light:"light"===p(X)}])},[o("div",Ce,[o("h1",null,[x(n(e.$t("paywallPersonalizedAI1"))+" ",1),"light"!==p(X)?(t(),a("br",Te)):d("",!0),x(" "+n(e.$t("paywallPersonalizedAI2")),1)]),o("h2",{class:s([{"mt-10":"light"===p(X)},{"mt-20":"light"!==p(X)}])},n(e.$t("paywallSeeTheMagic")),3),p(oe)&&p(oe).length>0?(t(),a("div",{key:0,class:s([{opp:1===p(oe).length},{"mt-20":"light"===p(X)},{"mt-40":"light"!==p(X)},"products column"])},[(t(!0),a(l,null,r(p(oe),((e,a)=>(t(),$(w("light"!==p(X)?M:L),{product:e,perBadge:p(ce),durationFormat:p(Je),isSelected:p(re)===a,discount:p(ee),mostPopular:a===p(ae),saveBadge:p(le)[a],saveMoney:a===p(ie),saveMoneyPercantage:p(ue),perDayLayout:p(Oe),onPopup:"light"!==p(X),opp:1===p(oe).length,clickHandler:()=>{re.value=a}},null,40,["product","perBadge","durationFormat","isSelected","discount","mostPopular","saveBadge","saveMoney","saveMoneyPercantage","perDayLayout","onPopup","opp","clickHandler"])))),256))],2)):d("",!0),o("button",{class:s(["mt-40 btn btn-continue",{dark:"light"===p(X)}]),onClick:i[1]||(i[1]=e=>Ue(p(oe)[p(re)]))},n(p(oe)[p(re)]&&p(oe)[p(re)].offersFreeTrial?p(ne)??e.$t("paywallTryFree"):e.$t("buttonContinue")),3),o("div",De,[(t(),$(w("light"===p(X)?p(N):p(I)),{class:"shield-icon"})),o("span",Ie,n(e.$t("paywallPaySafeSecure")),1)]),o("div",Le,[(t(!0),a(l,null,r(p(j),((e,l)=>(t(),a("img",{src:e,class:"provider-svg",alt:"payment provider"},null,8,Me)))),256))]),o("p",{class:s(["policies pt-12 medium mt-12",{dark:"light"===p(X)}])},[x(n(e.$t("paywallAgreeByContinue"))+" ",1),o("a",Ne,n(e.$t("paywallTermsOfService")),1),i[5]||(i[5]=x(", ")),i[6]||(i[6]=o("br",null,null,-1)),o("a",We,n(e.$t("paywallPrivacyCookie")),1),x(" "+n(e.$t("and"))+" ",1),o("a",Ae,n(e.$t("paywallRefundCancellation")),1)],2)]),v(m,{theme:p(X),class:"narrow-unvisible",style:{position:"absolute",left:"50%",bottom:"44px",transform:"translateX(-50%)"}},null,8,["theme"])],2)])):(t(),a("div",He,[v(g)]))],2)])):(t(),a("div",je,[v(g)]))}}},[["__scopeId","data-v-b3ce0c0a"]]),Je={__name:"payment",setup:e=>(e,a)=>{const l=Oe;return t(),$(l)}};export{Je as default};
