import{o as e,b as a,F as s,E as t,V as n,d as o,S as r,K as l,f as i,u as p,r as u,z as c,h as d,n as g,W as m,X as v,t as y,p as b,q as h,s as w,a as f,c as _,w as k,T as A,J as S}from"./DGIvrB3b.js";import{D as B}from"./Cd6WIQZy.js";const N={class:"progress-bar"},C={__name:"ProgressBar",props:["numberOfSteps","currentStep"],setup:i=>(p,u)=>(e(),a("div",N,[(e(!0),a(s,null,t(i.numberOfSteps,(s=>(e(),a("div",{key:s,class:"progress-bar-item",style:n(""+(s===i.numberOfSteps?"width: auto;":""))},[o("div",{class:r("ball "+(s<=i.currentStep?"ball-highlighted":""))},null,2),s<i.numberOfSteps?(e(),a("div",{key:0,class:r("stick "+(s<i.currentStep?"stick-highlighted":""))},null,2)):l("",!0)],4)))),128))]))},x={class:"card"},I={class:"text"},j=["innerHTML"],L={key:1,class:"sub-text"},O=["src"],q=["onClick"],P={key:0,class:"emoji"},E=["innerHTML"],T=["src"],H=["disabled"],D=i({__name:"OnboardingCard",props:["card"],emits:["nextCard"],setup(i,{emit:h}){const w=p(),f=i,_=u(""),k=u(f.card.defaultOption||(f.card.options&&w.userData&&w.userData.preferences?f.card.options.indexOf(w.userData.preferences[f.card.preference]):null)),A=u(f.card.options?{answer:f.card.options[k.value]}:{answer:null,emoji:null}),S=u(!0),B=u(f.card.questionBody||f.card.message),N=u([]),C=f.card.animateOptions?6e3:1500,D=u(!1),U=c((()=>(f.card.imageBelow&&D.value||!f.card.imageBelow)&&(f.card.imageAbove&&D.value||!f.card.imageAbove))),$=h;d((()=>{if(M(50),!f.card.message){let e=f.card.options.length;document.documentElement.style.setProperty("--noo",""+e/2)}f.card.animateOptions&&f.card.options.forEach(((e,a)=>{setTimeout((()=>{N.value.push(a)}),2e3*(a+1))}))}));const M=e=>{let a=_.value.length;if(a<B.value.length){const s=B.value.substr(a,4);_.value+="<br>"===s?"<br>":B.value.charAt(a),setTimeout((()=>{M(e)}),e)}else S.value=!1,f.card.message&&setTimeout((()=>{$("nextCard")}),C)},z=()=>{$("nextCard",A.value||f.card.lastCard)};return(p,u)=>(e(),a("div",x,[o("span",I,[o("span",{innerHTML:g(_)},null,8,j),o("span",{class:r("cursor "+(g(S)?"":"typing-done"))},"   ",2)]),g(S)?l("",!0):(e(),a("div",{key:0,class:"answer",style:n(""+(g(U)?"":"display: none;"))},[i.card.inputAbove?m((e(),a("input",{key:0,type:"text","onUpdate:modelValue":u[0]||(u[0]=e=>g(A).answer=e),placeholder:"You can write here..."},null,512)),[[v,g(A).answer]]):l("",!0),i.card.inputAbove?(e(),a("span",L,y(p.$t("onboardingInteractiveInputAboveText")),1)):l("",!0),i.card.imageAbove?(e(),a("img",{key:2,src:i.card.optionImages[g(k)],class:"image",alt:"response length",onLoad:u[1]||(u[1]=()=>D.value=!0)},null,40,O)):l("",!0),o("div",{class:r("options "+(i.card.grid?"options-grid":"options-flex"))},[(e(!0),a(s,null,t(i.card.options,((s,t)=>(e(),a("button",{class:r("btn-option "+(i.card.animateOptions?"animated-btn-option "+(g(N).includes(t)?"show":""):""+(i.card.options[t]===g(A).answer?"selected":""))),onClick:e=>((e,a)=>{k.value=e,A.value={answer:f.card.options[e],emoji:f.card.optionEmojis?f.card.optionEmojis[e]:null},a&&(document.querySelector("#input-below").value="")})(t,i.card.inputBelow)},[i.card.optionEmojis?(e(),a("span",P,y(i.card.optionEmojis[t]),1)):l("",!0),u[4]||(u[4]=b()),o("span",{innerHTML:s},null,8,E)],10,q)))),256))],2),i.card.inputBelow?(e(),a("input",{key:3,type:"text",placeholder:"or you can write here...",onInput:u[2]||(u[2]=e=>{g(A).answer=e.target.value}),id:"input-below"},null,32)):l("",!0),i.card.imageBelow?(e(),a("img",{key:4,src:i.card.image,class:"image image-below",onLoad:u[3]||(u[3]=()=>D.value=!0),alt:"gift card"},null,40,T)):l("",!0),i.card.noButton?l("",!0):(e(),a("button",{key:5,class:"btn btn-success btn-continue",onClick:z,disabled:!g(A).answer&&!i.card.lastCard},y(p.$t("buttonContinue")),9,H))],4))]))}},[["__scopeId","data-v-64c3e9e9"]]),U={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18"};const $={render:function(s,t){return e(),a("svg",U,t[0]||(t[0]=[o("path",{fill:"#fff","fill-rule":"evenodd",d:"M12.15 8.25 8.475 4.575a.742.742 0 1 1 1.05-1.05L14.47 8.47a.75.75 0 0 1 0 1.06l-4.945 4.945a.743.743 0 0 1-1.05-1.05L12.15 9.75h-8.4a.75.75 0 1 1 0-1.5z","clip-rule":"evenodd"},null,-1)]))}},M={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18"};const z={render:function(s,t){return e(),a("svg",M,t[0]||(t[0]=[o("path",{fill:"#fff","fill-rule":"evenodd",d:"m5.85 8.247 3.675-3.675a.742.742 0 1 0-1.05-1.05L3.53 8.467a.75.75 0 0 0 0 1.06l4.945 4.945a.742.742 0 1 0 1.05-1.05L5.85 9.747h8.4a.75.75 0 0 0 0-1.5z","clip-rule":"evenodd"},null,-1)]))}},J={class:"onboarding"},R={class:"mini-header"},W=i({__name:"onboarding",setup(s){const t=h(),n=p(),r=c((()=>n.getParameter("flow_type")));let i;const m=u({}),v=u([]),y=u(0),b=u(1),N=c((()=>y.value<6?b.value:y.value%5)),x=c((()=>y.value<6?6:2)),I=c((()=>[{preference:"purpose",questionBody:"Hi there! What brings <br> you to Chat & Ask AI?",options:["Just for quick answers"," I am a content writer","For my education","I am a developer"],optionEmojis:["🔎","📝","🗣️","💡"],inputBelow:!0,cardName:"Purpose Page"},{preference:"gptUsage",questionBody:"How frequently do you use <br> ChatGPT?",options:["Rarely","Sometimes","Usually","Always"],optionEmojis:["🥸","😎","🧐","🤯"],cardName:"GPT Usage Page"},{preference:"whatsappUsage",questionBody:"How frequently do you use <br> WhatsApp?",options:["Rarely","Sometimes","Usually","Always"],optionEmojis:["🥸","😎","🧐","🤯"],cardName:"Whatsapp Usage Page"},{preference:"style",questionBody:"How formal or casual <br> should I be?",options:["Formal","Casual","Lovely","Sarcastic"],optionEmojis:["👔","😎","🥰","😝"],cardName:"Style Page"},{preference:"responseLength",questionBody:"How long or short should <br> my responses generally be?",options:["Very Detailed","Medium","Detailed","Short"],optionImages:["https://storage.googleapis.com/chatapp-website-assets/very_detailed_option.svg","https://storage.googleapis.com/chatapp-website-assets/medium_option.svg","https://storage.googleapis.com/chatapp-website-assets/detailed_option.svg","https://storage.googleapis.com/chatapp-website-assets/short_option.svg"],defaultOption:1,grid:!0,imageAbove:!0,cardName:"Response Length Page"},{preference:"neutrality",questionBody:"Should I have opinions on <br> topics or remain neutral?",options:["Include your opinions","Remain neutral","Balance opinions and neutrality"],optionEmojis:["🙌🏻","⚖️","🤝🏻"],cardName:"Neutrality Page"},{message:"I am personalizing <br> your experience...",options:[`Adjusting <span style="color: #4AA181;"> ${m.value.style||""} </span> language...`,`Crafting responses <span style="color: #4AA181;"> ${m.value.responseLength||""} </span> long...`,`Adapting opinions  <span style="color: #4AA181;"> ${m.value.neutrality||""} </span> side...`],optionEmojis:[`${v.value.style||""}`,""+(m.value.responseLength?"😉":""),`${v.value.neutrality||""}`],animateOptions:!0,noButton:!0,cardName:"Personalization Loading Page"},{message:"Hooray 🥳! Are you<br> ready to start your Chat & Ask AI Journey?",image:"https://storage.googleapis.com/chatapp-website-assets/onboarding_giftcard.png",imageBelow:!0,lastCard:!0,cardName:"Gift Card Page"}]));d((()=>{w({eventName:"interactive_onboarding_view"}),i=Date.now()}));const j=e=>{const a=!e;if(!a&&e.answer){const a=I.value[y.value].preference;m.value[a]=e.answer,v.value[a]=e.emoji,n.editUserData({preferences:m.value}),"name"===a&&w({eventName:"addressing_input",properties:{input:e.answer}}),"style"===a&&w({eventName:"approach_selected",properties:{input:e.answer}}),"responseLength"===a&&w({eventName:"response_length_selected",properties:{input:e.answer}}),"neutrality"===a&&w({eventName:"neutrality_selected",properties:{input:e.answer}})}L(a)},L=e=>{y.value<I.value.length-1?(e||m.value[I.value[y.value].preference]||w({eventName:"interactive_onboarding_skip",properties:{page:I.value[y.value].cardName}}),I.value[y.value].message||b.value++,y.value++,w({eventName:"interactive_onboarding_page_view",properties:{page:I.value[y.value].cardName}})):(w({eventName:"tutorial_completed",properties:{duration:Date.now()-i}}),localStorage.setItem("aa_prefs",JSON.stringify(n.userData)),e||("signup_after_payment"===r.value||"signup_before_payment"===r.value?(w({eventName:"should_open_paywall",properties:{source:"InteractiveOnboarding"}}),S({path:t("/payment"),state:{source:"InteractiveOnboarding"}})):S({path:t("/signup"),query:{onboarding:!0}})))},O=()=>{y.value--,I.value[y.value].message?O():b.value--};return(s,t)=>{const n=C,r=D;return e(),a("div",J,[o("div",R,[f(g(B),{class:"logo-icon"}),t[3]||(t[3]=o("span",{class:"pt-20 bold"}," CHAT & ASK AI ",-1)),g(y)!==g(I).length-1?(e(),a("button",{key:0,class:"btn-skp",onClick:t[0]||(t[0]=e=>L(!1))},[t[1]||(t[1]=o("span",null,"Skip",-1)),f(g($),{class:"next-icon"})])):l("",!0),g(y)>0&&g(y)!==g(I).length-1?(e(),a("button",{key:1,class:"btn-skp btn-back",onClick:O},[f(g(z),{class:"next-icon"}),t[2]||(t[2]=o("span",null,"Back",-1))])):l("",!0)]),(e(),_(n,{numberOfSteps:g(x),class:"progress-bar",currentStep:g(N),key:g(x)},null,8,["numberOfSteps","currentStep"])),f(A,{name:"slide-up",mode:"out-in"},{default:k((()=>[(e(),_(r,{class:"onboarding-question",onNextCard:j,key:g(I)[g(y)].questionBody||g(I)[g(y)].message,card:g(I)[g(y)]},null,8,["card"]))])),_:1})])}}},[["__scopeId","data-v-d3d6eb48"]]);export{W as default};
